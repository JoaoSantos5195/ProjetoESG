<!-- LINK PARA CSS DO MAPA -->
<link rel="stylesheet" href="/css/mapa.css">

<!-- CAPA DO MAPA -->
<img class="imgCapa" src="~/assets/icons/portCapa.jpg" alt="Capa do mapa" style="height:420px; width:1080px; border-radius: 60px; margin-top:30px;">
<h1 id="tituloMapa" class="text-center">Língua portuguesa</h1>

<!-- CAMINHO DAS FASES -->
<div class="tudo">
    <div class="fases">
        <!-- FASE 1 -->
        <img src="~/assets/icons/circuloFase.png" alt="" style="height:80px; width:80px; cursor: pointer;" id="faseImagem1">
        <p id="faseTexto1">1º Fase</p>

        <dialog class="faseMapa" id="faseMapa1">
            <h4 class="text-center">Fundamento da língua</h4>
            <p class="text-justify">Antes de mergulhar nos conteúdos mais complexos, é essencial dominar a base da nossa língua...</p>
            <hr>
            <h4>Links</h4>
            <ul>
                <li>Ortografia e fonética básica</li>
                <li>Estrutura e formação de palavras</li>
                <li>Classes gramaticais (substantivo, verbo, adjetivo etc.)</li>
            </ul>
            <button onclick="concluir(1)">Marcar como concluído</button>
            <button onclick="fecharDialog(1)">Fechar</button>
        </dialog>

        <!-- FASE 2 -->
        <img src="~/assets/icons/circuloFase.png" alt="" style="height:80px; width:80px; margin-left: 400px; cursor: pointer;" id="faseImagem2">
        <p id="faseTexto2" style="margin-left: 400px;">2º Fase</p>

        <dialog class="faseMapa" id="faseMapa2">
            <h4 class="text-center">Compreensão e Interpretação</h4>
            <p class="text-justify">Nesta fase, o foco é entender o que lemos. Você vai desenvolver estratégias para interpretar textos, reconhecer ideias principais e inferir sentidos.</p>
            <hr>
            <h4>Links</h4>
            <ul>
                <li>Leitura crítica de textos</li>
                <li>Estrutura textual (introdução, desenvolvimento e conclusão)</li>
                <li>Figuras de linguagem e intenção comunicativa</li>
            </ul>
            <button onclick="concluir(2)">Marcar como concluído</button>
            <button onclick="fecharDialog(2)">Fechar</button>
        </dialog>

        <!-- FASE 3 -->
        <img src="~/assets/icons/circuloFase.png" alt="" style="height:80px; width:80px; cursor: pointer;" id="faseImagem3">
        <p id="faseTexto3">3º Fase</p>

        <dialog class="faseMapa" id="faseMapa3">
            <h4 class="text-center">Produção de Texto</h4>
            <p class="text-justify">Agora que você já entende bem a língua e sabe interpretar textos, é hora de produzir! Aprenda a organizar suas ideias e escrever com clareza e coerência.</p>
            <hr>
            <h4>Links</h4>
            <ul>
                <li>Coesão e coerência textual</li>
                <li>Redação argumentativa</li>
                <li>Revisão gramatical e ortográfica</li>
            </ul>
            <button onclick="concluir(3)">Marcar como concluído</button>
            <button onclick="fecharDialog(3)">Fechar</button>
        </dialog>
    </div>

    <div class="descricaoMapa">
        <h3>Sobre o roadmap</h3>
        <p>Dominar a Língua Portuguesa vai muito além de escrever corretamente...</p>
        <br>
        <h3>Links</h3>
        <ul>
            <li><a href="https://www.todamateria.com.br/lingua-portuguesa/">Exercícios</a></li>
        </ul>
    </div>
</div>

<hr>
@* <h2 id="comentarioTitulo" class="text-center">Comentários</h2> *@

<script>
    // Abertura dos dialogs
    for (let i = 1; i <= 3; i++) {
        document.getElementById(`faseImagem${i}`).addEventListener("click", () => abrirDialog(i));
        document.getElementById(`faseTexto${i}`).addEventListener("click", () => abrirDialog(i));
    }

    function abrirDialog(id) {
        document.getElementById(`faseMapa${id}`).showModal();
    }

    function fecharDialog(id) {
        document.getElementById(`faseMapa${id}`).close();
    }

    function concluir(id) {
        const imagem = document.getElementById(`faseImagem${id}`);
        if (imagem && imagem.src.includes("circuloFase.png")) {
            imagem.src = "/assets/icons/circuloConcluido.png";
            imagem.style.borderRadius = "50%";
            imagem.style.boxShadow = "0 0 10px #4CAF50";
            imagem.style.transition = "all 0.3s ease";
        }
        fecharDialog(id);
    }
</script>
